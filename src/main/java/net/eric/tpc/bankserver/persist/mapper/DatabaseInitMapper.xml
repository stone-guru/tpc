<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.eric.tpc.bankserver.persist.DatabaseInit">
  
  <update id="createAccountTable">
    CREATE TABLE ACCOUNT(
      ACCT_NUMBER VARCHAR(24) NOT NULL,
      ACCT_NAME  VARCHAR(24) NOT NULL,
      ACCT_TYPE CHAR(1) NOT NULL,
      BANK_CODE VARCHAR(12) NOT NULL,
      BALANCE NUMERIC(16,2) NOT NULL,
      OPENING_TIME TIMESTAMP,
      LAST_MODI_TIME TIMESTAMP,
      PRIMARY KEY (ACCT_NUMBER))
  </update>

   <update id="createTransferMessageTable">
    CREATE TABLE TRANSFER_MESSAGE(
      MESSAGE_NUMBER VARCHAR(24) NOT NULL,
      VERSION VARCHAR(16) NOT NULL,
      LAUNCH_TIME TIMESTAMP,
      MESSAGE_TYPE CHAR(1) NOT NULL,
      
      SENDER VARCHAR(16) NOT NULL,
      RECEIVER VARCHAR(16) NOT NULL,

      TRANS_TYPE CHAR(1) NOT NULL,
      TRANS_SN VARCHAR(24) NOT NULL,
      RECEIVING_BANK_CODE VARCHAR(12) NOT NULL,
      
      ACCT_NUMBER VARCHAR(24) NOT NULL,
      ACCT_BANK_CODE VARCHAR(12) NOT NULL,

      OPP_ACCT_NUMBER VARCHAR(24) NOT NULL,
      OPP_ACCT_BANK_CODE VARCHAR(12) NOT NULL,

      AMOUNT NUMERIC(16,2) NOT NULL,
      SUMMARY VARCHAR(48),
      
      VOUCHER_NUMBER VARCHAR(24) NOT NULL,
      PRIMARY KEY(MESSAGE_NUMBER)
      )
  </update>

</mapper>
